var AjaxFunctions=function(){var t;return{settings:function(){t={theContent:$(".changeable-content"),toDoForm:$("#to-do-form"),ajax:"",button:$('#to-do-form input[type="checkbox"]'),progressBar:$(".progress__bar"),total:$('#to-do-form input[type="checkbox"]').length,totalChecked:$('#to-do-form input[type="checkbox"]').filter(":checked").length,timer:$(".time-remaining"),timeHours:$("#time-remaining__hours"),timeMins:$("#time-remaining__mins"),interval:""}},init:function(){this.settings(),this.bindUIActions()},bindUIActions:function(){t.button.off().on("change",function(){AjaxFunctions.updateDone()}),t.interval=setInterval(function(){AjaxFunctions.updateTime()},6e4)},updateDone:function(){t.theContent.addClass("is-changing");var n=function(n,e){t.ajax=$.ajax({type:"POST",data:{form:n},dataType:"html",url:"includes/functions/ajax.php",beforeSend:function(){},success:function(n){n=$(n),n.fadeIn(),t.theContent.html(n),t.theContent.removeClass("is-changing"),clearInterval(t.interval),AjaxFunctions.init(),FormStyle.init(),t.progressBar.css("width",e+"%"),setTimeout(function(){t.total=t.button.length,t.totalChecked=t.button.filter(":checked").length;var n=t.totalChecked/t.total*100;if(t.progressBar.css("width",n+"%"),t.totalChecked==t.total&&t.total>0){t.theContent.addClass("is-complete");var e=Math.floor(5*Math.random())+1;t.theContent.addClass("is-complete--"+e)}},200)},error:function(t,n,e){console.log(t+" :: "+n+" :: "+e)}})};setTimeout(function(){var e=t.totalChecked/t.total*100,i=$(t.toDoForm).serialize();t.ajax&&t.ajax.abort(),n(i,e)},200)},updateTime:function(){var n=parseInt(t.timeHours.html()),e=parseInt(t.timeMins.html());t.timer.removeClass("is-done"),e>0?(e-=1,t.timeMins.addClass("is-changing")):n>0?(n-=1,e=59,t.timeHours.addClass("is-changing"),t.timeMins.addClass("is-changing")):t.timer.addClass("is-done"),t.timeHours.html(n),t.timeMins.html(e),setTimeout(function(){t.timeHours.removeClass("is-changing"),t.timeMins.removeClass("is-changing")},200)}}}(),FormStyle=function(){var t;return{settings:function(){t={addTask:$("input#task")}},init:function(){this.settings(),this.bindUIActions()},bindUIActions:function(){t.addTask.on("focusin",function(){FormStyle.activeInput("active")}),t.addTask.on("focusout",function(){FormStyle.activeInput("inactive")})},activeInput:function(n){"active"==n?t.addTask.addClass("is-active"):t.addTask.removeClass("is-active")}}}();!function(){AjaxFunctions.init(),AjaxFunctions.updateDone(),FormStyle.init()}();